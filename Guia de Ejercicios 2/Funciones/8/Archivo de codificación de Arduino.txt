#define PIN_LED 8
#define PIN_BOTON 7

const int TAM = 5;
int secuencia[TAM];

void setup() {
  Serial.begin(9600);
  pinMode(PIN_LED, OUTPUT);
  pinMode(PIN_BOTON, INPUT_PULLUP);
}

void loop() {

  Serial.println("Comenzando nueva secuencia...");

  for (int i = 0; i < TAM; i++) {

    digitalWrite(PIN_LED, HIGH);
    Serial.print("Paso ");
    Serial.print(i + 1);
    Serial.println(" - Puedes presionar el boton");

    delay(2000); // Tiempo para que el usuario decida

    digitalWrite(PIN_LED, LOW);

    // Leer estado del boton
    int estadoBoton = digitalRead(PIN_BOTON);

    // Como usamos INPUT_PULLUP invertimos lógica
    if (estadoBoton == LOW) {
      secuencia[i] = 1;  // botón presionado
    } else {
      secuencia[i] = 0;  // botón no presionado
    }

    delay(500);
  }

  // Mostrar vector
  Serial.println("Secuencia guardada:");
  for (int i = 0; i < TAM; i++) {
    Serial.print(secuencia[i]);
    Serial.print(" ");
  }
  Serial.println();

  // Limpiar vector
  for (int i = 0; i < TAM; i++) {
    secuencia[i] = 0;
  }

  Serial.println("Vector limpiado. Reiniciando...\n");

  delay(3000);
}